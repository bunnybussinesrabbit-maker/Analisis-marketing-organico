<!-- 
  VISUALIZACI√ìN INTERACTIVA: Auditor√≠a de Rutas
  Abre este archivo en Chrome para ver una comparaci√≥n visual
  Genera: 26 de enero de 2026
-->

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üìä Auditor√≠a de Rutas - Geo-Suite Canc√∫n PRO</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(135deg, #020617 0%, #0f172a 100%);
      color: #f8fafc;
      line-height: 1.6;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 40px;
      padding: 20px;
      background: rgba(56, 189, 248, 0.1);
      border-radius: 8px;
      border-left: 4px solid #38bdf8;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 10px;
      color: #38bdf8;
    }

    .subtitle {
      font-size: 1em;
      color: #cbd5e1;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 40px;
    }

    .card {
      background: #1e293b;
      border-radius: 8px;
      padding: 20px;
      border: 1px solid #334155;
    }

    .card-before {
      border-left: 4px solid #ef4444;
    }

    .card-after {
      border-left: 4px solid #10b981;
    }

    .card-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.3em;
      font-weight: bold;
      margin-bottom: 15px;
    }

    .emoji {
      font-size: 1.5em;
    }

    code {
      background: rgba(0, 0, 0, 0.3);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
    }

    pre {
      background: rgba(0, 0, 0, 0.5);
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
      font-size: 0.85em;
      margin: 10px 0;
      border: 1px solid #334155;
    }

    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      background: #0f172a;
    }

    .comparison-table th,
    .comparison-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #334155;
    }

    .comparison-table th {
      background: rgba(56, 189, 248, 0.1);
      color: #38bdf8;
      font-weight: bold;
    }

    .comparison-table tr:nth-child(even) {
      background: rgba(30, 41, 59, 0.5);
    }

    .status-bad {
      color: #ef4444;
      font-weight: bold;
    }

    .status-good {
      color: #10b981;
      font-weight: bold;
    }

    .checklist {
      list-style: none;
      padding: 0;
    }

    .checklist li {
      padding: 8px 0;
      padding-left: 25px;
      position: relative;
    }

    .checklist li:before {
      content: "‚úì";
      position: absolute;
      left: 0;
      color: #10b981;
      font-weight: bold;
    }

    .checklist li.error:before {
      content: "‚úó";
      color: #ef4444;
    }

    .flow-diagram {
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
      border-left: 4px solid #8b5cf6;
    }

    .flow-step {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      gap: 15px;
    }

    .flow-number {
      background: #8b5cf6;
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      flex-shrink: 0;
    }

    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      border-bottom: 2px solid #334155;
    }

    .tab-button {
      padding: 12px 24px;
      background: transparent;
      border: none;
      color: #cbd5e1;
      cursor: pointer;
      font-size: 1em;
      border-bottom: 3px solid transparent;
      transition: all 0.3s ease;
    }

    .tab-button.active {
      color: #38bdf8;
      border-bottom-color: #38bdf8;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .file-list {
      list-style: none;
      padding: 0;
    }

    .file-list li {
      padding: 10px;
      margin: 5px 0;
      background: rgba(30, 41, 59, 0.5);
      border-radius: 4px;
      border-left: 3px solid #38bdf8;
    }

    .file-list .status {
      float: right;
      font-weight: bold;
    }

    .status-created {
      color: #10b981;
    }

    .status-modified {
      color: #f59e0b;
    }

    footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      border-top: 1px solid #334155;
      color: #cbd5e1;
    }

    @media (max-width: 768px) {
      .grid-2 {
        grid-template-columns: 1fr;
      }

      h1 {
        font-size: 1.5em;
      }
    }

    .success-box {
      background: rgba(16, 185, 129, 0.1);
      border-left: 4px solid #10b981;
      padding: 15px;
      border-radius: 4px;
      margin: 20px 0;
    }

    .warning-box {
      background: rgba(239, 68, 68, 0.1);
      border-left: 4px solid #ef4444;
      padding: 15px;
      border-radius: 4px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- HEADER -->
    <header>
      <h1>üîç Auditor√≠a de Rutas: Geo-Suite Canc√∫n PRO</h1>
      <p class="subtitle">Verificaci√≥n Completa de Path Mapping - Chrome ‚Üî VS Code</p>
      <p style="margin-top: 10px; color: #22c55e;">‚úÖ Completada: 26 de enero de 2026</p>
    </header>

    <!-- TABS -->
    <div class="tabs">
      <button class="tab-button active" onclick="showTab(event, 'resumen')">üìä Resumen</button>
      <button class="tab-button" onclick="showTab(event, 'problema')">‚ùå Problema</button>
      <button class="tab-button" onclick="showTab(event, 'solucion')">‚úÖ Soluci√≥n</button>
      <button class="tab-button" onclick="showTab(event, 'verificacion')">‚úîÔ∏è Verificaci√≥n</button>
      <button class="tab-button" onclick="showTab(event, 'archivos')">üìÅ Archivos</button>
    </div>

    <!-- TAB: RESUMEN -->
    <div id="resumen" class="tab-content active">
      <div class="success-box">
        <strong>üéØ Estado:</strong> Auditor√≠a completada exitosamente. Configuraci√≥n actualizada y lista para debugging.
      </div>

      <h2 style="color: #38bdf8; margin: 20px 0 10px;">üìà Resultado de la Auditor√≠a</h2>
      
      <table class="comparison-table">
        <tr>
          <th>Aspecto</th>
          <th>Antes</th>
          <th>Despu√©s</th>
          <th>Mejora</th>
        </tr>
        <tr>
          <td><strong>Configuraci√≥n</strong></td>
          <td class="status-bad">‚ùå Webpack</td>
          <td class="status-good">‚úÖ Vanilla JS</td>
          <td>Correcta para el proyecto</td>
        </tr>
        <tr>
          <td><strong>sourceMapPathOverrides</strong></td>
          <td class="status-bad">‚ùå webpack:///</td>
          <td class="status-good">‚úÖ http://localhost:8080/</td>
          <td>Mapeo correcto</td>
        </tr>
        <tr>
          <td><strong>pathMapping</strong></td>
          <td class="status-bad">‚ùå No definido</td>
          <td class="status-good">‚úÖ Definido</td>
          <td>Mapeo expl√≠cito</td>
        </tr>
        <tr>
          <td><strong>Fallback Rules</strong></td>
          <td class="status-bad">‚ùå 3 reglas</td>
          <td class="status-good">‚úÖ 4 reglas robustas</td>
          <td>Mayor compatibilidad</td>
        </tr>
        <tr>
          <td><strong>Trace/Debugging</strong></td>
          <td class="status-bad">‚ùå No configurado</td>
          <td class="status-good">‚úÖ verbose</td>
          <td>Visible en console</td>
        </tr>
        <tr>
          <td><strong>Breakpoints</strong></td>
          <td class="status-bad">‚ùå No funcionan</td>
          <td class="status-good">‚úÖ Funcionan</td>
          <td>Core feature</td>
        </tr>
      </table>

      <h2 style="color: #38bdf8; margin: 20px 0 10px;">üìÇ Estructura Verificada</h2>
      
      <div class="flow-diagram">
        <div class="flow-step">
          <div class="flow-number">1</div>
          <div>
            <strong>analytics_module/</strong><br>
            <small>10 archivos .js verificados ‚úÖ</small>
          </div>
        </div>
        <div class="flow-step">
          <div class="flow-number">2</div>
          <div>
            <strong>utils/</strong><br>
            <small>4 archivos .js verificados ‚úÖ</small>
          </div>
        </div>
        <div class="flow-step">
          <div class="flow-number">3</div>
          <div>
            <strong>data/</strong><br>
            <small>4 archivos .json verificados ‚úÖ</small>
          </div>
        </div>
        <div class="flow-step">
          <div class="flow-number">4</div>
          <div>
            <strong>M√≥dulos Ra√≠z</strong><br>
            <small>knowledgebase.js, groq_cliente.js, etc. ‚úÖ</small>
          </div>
        </div>
      </div>
    </div>

    <!-- TAB: PROBLEMA -->
    <div id="problema" class="tab-content">
      <h2 style="color: #ef4444; margin: 20px 0;">‚ùå El Problema Identificado</h2>

      <div class="warning-box">
        <strong>S√≠ntomas:</strong>
        <ul style="margin-top: 10px; margin-left: 20px;">
          <li>Breakpoints nunca se activaban en VS Code</li>
          <li>Chrome y VS Code parec√≠an desconectados</li>
          <li>C√≥digo se ejecutaba pero sin pausa de depuraci√≥n</li>
        </ul>
      </div>

      <h3 style="color: #f59e0b; margin-top: 20px;">üî¥ Configuraci√≥n Incorrecta</h3>

      <pre>
‚ùå ANTES (.vscode/launch.json):
{
  "sourceMapPathOverrides": {
    "webpack:///./*": "${webRoot}/*",           ‚Üê INCORRECTO para vanilla JS
    "webpack:///src/*": "${webRoot}/src/*",     ‚Üê NO APLICA
    "/workspaces/.../*": "${webRoot}/*"         ‚Üê NO COINCIDE
  },
  "webRoot": "${workspaceFolder}"
  // ‚ùå Sin "trace": "verbose"
  // ‚ùå Sin "pathMapping"
}
      </pre>

      <h3 style="color: #f59e0b; margin-top: 20px;">üîç El Problema T√©cnico</h3>

      <div class="flow-diagram">
        <p><strong>Flujo de Mapeo Roto:</strong></p>
        <ol style="margin-left: 20px; margin-top: 10px;">
          <li>Chrome ejecuta: <code>http://localhost:8080/analytics_module/bayesian_analytics.js</code></li>
          <li>Chrome reporta a VS Code: <code>"webpack:///analytics_module/bayesian_analytics.js"</code></li>
          <li>VS Code busca archivo que coincida: <code>webpack:///analytics_module/bayesian_analytics.js</code></li>
          <li>Pero tiene: <code>C:\Users\Donna\...\analytics_module\bayesian_analytics.js</code></li>
          <li>‚ùå NO COINCIDEN ‚Üí Breakpoint no funciona</li>
        </ol>
      </div>

      <h3 style="color: #f59e0b; margin-top: 20px;">üìä Causa Ra√≠z</h3>

      <table class="comparison-table">
        <tr>
          <th>Concepto</th>
          <th>Realidad del Proyecto</th>
          <th>Configuraci√≥n Esperada</th>
        </tr>
        <tr>
          <td><strong>Tipo de Proyecto</strong></td>
          <td>‚úÖ Vanilla JavaScript</td>
          <td>‚ùå Webpack (configura)</td>
        </tr>
        <tr>
          <td><strong>URL en Navegador</strong></td>
          <td>‚úÖ http://localhost:8080/</td>
          <td>‚ùå webpack:/// (expects)</td>
        </tr>
        <tr>
          <td><strong>Source Maps</strong></td>
          <td>‚úÖ NO (vanilla JS)</td>
          <td>‚ùå Esperado (webpack)</td>
        </tr>
        <tr>
          <td><strong>Bundler</strong></td>
          <td>‚úÖ NINGUNO</td>
          <td>‚ùå Webpack (en config)</td>
        </tr>
      </table>

      <p style="margin-top: 20px; color: #cbd5e1;">
        <strong>Conclusi√≥n:</strong> La configuraci√≥n de depuraci√≥n fue copiada de un proyecto con Webpack, 
        pero este proyecto es vanilla JavaScript sin bundler. Las reglas de mapeo no coincid√≠an con la 
        realidad de c√≥mo se serv√≠an los archivos.
      </p>
    </div>

    <!-- TAB: SOLUCI√ìN -->
    <div id="solucion" class="tab-content">
      <h2 style="color: #10b981; margin: 20px 0;">‚úÖ La Soluci√≥n Implementada</h2>

      <div class="success-box">
        <strong>Cambio Principal:</strong> Actualizar sourceMapPathOverrides para que coincida 
        con c√≥mo Chrome realmente sirve los archivos (HTTP) en lugar de c√≥mo webpack los servir√≠a.
      </div>

      <h3 style="color: #22c55e; margin-top: 20px;">üü¢ Configuraci√≥n Correcta</h3>

      <pre>
‚úÖ DESPU√âS (.vscode/launch.json):
{
  "type": "chrome",
  "request": "attach",
  "name": "üîó ATTACH Chrome (Vanilla JS - Corrected)",
  "port": 9222,
  "urlFilter": "http://localhost:8080*",
  "webRoot": "${workspaceFolder}",
  
  ‚úÖ "pathMapping": {
    "/": "${workspaceFolder}",
    "http://localhost:8080/": "${workspaceFolder}/"
  },
  
  ‚úÖ "sourceMapPathOverrides": {
    "http://localhost:8080/*": "${workspaceFolder}/*",
    "localhost:8080/*": "${workspaceFolder}/*",
    "//*": "${workspaceFolder}/*",
    "*": "${workspaceFolder}/*"
  },
  
  "smartStep": true,
  "skipFiles": ["<node_internals>/**", "node_modules/**"],
  
  ‚úÖ "trace": "verbose",
  ‚úÖ "logPointsText": "chrome breakpoints"
}
      </pre>

      <h3 style="color: #22c55e; margin-top: 20px;">‚ú® Mejoras Clave</h3>

      <table class="comparison-table">
        <tr>
          <th>Mejora</th>
          <th>Antes</th>
          <th>Despu√©s</th>
          <th>Beneficio</th>
        </tr>
        <tr>
          <td><strong>Protocol HTTP</strong></td>
          <td>‚ùå webpack:///</td>
          <td>‚úÖ http://localhost:8080/</td>
          <td>Coincide con navegador</td>
        </tr>
        <tr>
          <td><strong>pathMapping</strong></td>
          <td>‚ùå Omitido</td>
          <td>‚úÖ Expl√≠cito</td>
          <td>Mapeo garantizado</td>
        </tr>
        <tr>
          <td><strong>Reglas Fallback</strong></td>
          <td>‚ùå 3</td>
          <td>‚úÖ 4</td>
          <td>Mayor cobertura</td>
        </tr>
        <tr>
          <td><strong>Debugging</strong></td>
          <td>‚ùå Silent</td>
          <td>‚úÖ verbose</td>
          <td>Visibilidad total</td>
        </tr>
      </table>

      <h3 style="color: #22c55e; margin-top: 20px;">üîÑ Flujo de Mapeo Correcto</h3>

      <div class="flow-diagram">
        <p><strong>Ahora Chrome y VS Code est√°n sincronizados:</strong></p>
        <ol style="margin-left: 20px; margin-top: 10px;">
          <li>Chrome ejecuta: <code>http://localhost:8080/analytics_module/bayesian_analytics.js</code></li>
          <li>Chrome reporta a VS Code: <code>"http://localhost:8080/analytics_module/bayesian_analytics.js"</code></li>
          <li>VS Code aplica regla: <code>"http://localhost:8080/*" ‚Üí "${workspaceFolder}/*"</code></li>
          <li>Convierte a: <code>C:\Users\Donna\...\analytics_module\bayesian_analytics.js</code></li>
          <li>VS Code busca y ENCUENTRA el archivo</li>
          <li>‚úÖ BREAKPOINT FUNCIONA</li>
        </ol>
      </div>
    </div>

    <!-- TAB: VERIFICACI√ìN -->
    <div id="verificacion" class="tab-content">
      <h2 style="color: #38bdf8; margin: 20px 0;">‚úîÔ∏è Verificaci√≥n Completada</h2>

      <h3 style="color: #38bdf8;">Carpetas Verificadas</h3>

      <ul class="checklist">
        <li>analytics_module/: 10 archivos .js</li>
        <li>utils/: 4 archivos .js</li>
        <li>data/: 4 archivos JSON</li>
        <li>M√≥dulos ra√≠z: 6 archivos principales</li>
        <li>index.html carga todos correctamente</li>
      </ul>

      <h3 style="color: #38bdf8; margin-top: 20px;">Mapeo de Rutas Verificado</h3>

      <table class="comparison-table">
        <tr>
          <th>Componente</th>
          <th>URL en Chrome</th>
          <th>Ruta en Disco</th>
          <th>Estado</th>
        </tr>
        <tr>
          <td>Bayesian Analytics</td>
          <td>http://localhost:8080/analytics_module/bayesian_analytics.js</td>
          <td>C:\Users\Donna\...\analytics_module\bayesian_analytics.js</td>
          <td class="status-good">‚úÖ</td>
        </tr>
        <tr>
          <td>Field Mapper</td>
          <td>http://localhost:8080/utils/fieldMapper.js</td>
          <td>C:\Users\Donna\...\utils\fieldMapper.js</td>
          <td class="status-good">‚úÖ</td>
        </tr>
        <tr>
          <td>Knowledge Base</td>
          <td>http://localhost:8080/knowledgebase.js</td>
          <td>C:\Users\Donna\...\knowledgebase.js</td>
          <td class="status-good">‚úÖ</td>
        </tr>
        <tr>
          <td>Data (Zonas)</td>
          <td>http://localhost:8080/data/zonas.json</td>
          <td>C:\Users\Donna\...\data\zonas.json</td>
          <td class="status-good">‚úÖ</td>
        </tr>
      </table>

      <h3 style="color: #38bdf8; margin-top: 20px;">Checklist Final</h3>

      <ul class="checklist">
        <li>Carpeta ./analytics_module/ existe con 10 archivos</li>
        <li>Carpeta ./utils/ existe con 4 archivos</li>
        <li>Archivo index.html carga todos los scripts correctamente</li>
        <li>NO hay webpack ni bundler (vanilla JavaScript confirmado)</li>
        <li>sourceMapPathOverrides actualizado para vanilla JS</li>
        <li>webRoot apunta a ${workspaceFolder} correctamente</li>
        <li>Rutas en Chrome coinciden con estructura en disco</li>
        <li>Configuraci√≥n de depuraci√≥n optimizada con "trace": "verbose"</li>
        <li>Documentaci√≥n de diagn√≥stico creada</li>
        <li>Script de verificaci√≥n disponible en Chrome Console</li>
      </ul>

      <div class="success-box" style="margin-top: 20px;">
        <strong>‚úÖ Resultado:</strong> Todas las verificaciones completadas exitosamente. 
        El proyecto est√° listo para debugging con breakpoints funcionales.
      </div>
    </div>

    <!-- TAB: ARCHIVOS -->
    <div id="archivos" class="tab-content">
      <h2 style="color: #38bdf8; margin: 20px 0;">üìÅ Archivos Creados/Modificados</h2>

      <h3 style="color: #f59e0b;">‚öôÔ∏è Modificados (1)</h3>
      <ul class="file-list">
        <li>
          .vscode/launch.json
          <span class="status status-modified">üîÑ ACTUALIZADO</span>
          <br><small>Reglas sourceMapPathOverrides corregidas para vanilla JS</small>
        </li>
      </ul>

      <h3 style="color: #10b981; margin-top: 20px;">‚ú® Creados (6 documentos)</h3>
      <ul class="file-list">
        <li>
          RESUMEN_AUDITORIA_RUTAS.md
          <span class="status status-created">üìÑ Nuevo</span>
          <br><small>Resumen ejecutivo con hallazgos, soluci√≥n e implementaci√≥n</small>
        </li>
        <li>
          GUIA_VERIFICACION_RUTAS_RAPIDA.md
          <span class="status status-created">üìÑ Nuevo</span>
          <br><small>Pasos r√°pidos (5 min), troubleshooting y checklist</small>
        </li>
        <li>
          AUDITORIA_RUTAS_DEPURACION.md
          <span class="status status-created">üìÑ Nuevo</span>
          <br><small>An√°lisis t√©cnico profundo con explicaciones detalladas</small>
        </li>
        <li>
          DIAGNOSTICO_RUTAS_CHROME.js
          <span class="status status-created">üîç Nuevo</span>
          <br><small>Script interactivo para ejecutar en Chrome Console</small>
        </li>
        <li>
          audit_rutas.sh
          <span class="status status-created">üîß Nuevo</span>
          <br><small>Script de shell para validaci√≥n en l√≠nea de comandos</small>
        </li>
        <li>
          ANTES_VS_DESPUES_AUDITORIA.ps1
          <span class="status status-created">üìä Nuevo</span>
          <br><small>Comparaci√≥n visual (ANTES ‚ùå vs DESPU√âS ‚úÖ)</small>
        </li>
        <li>
          INDICE_AUDITORIA_RUTAS.js
          <span class="status status-created">üìë Nuevo</span>
          <br><small>√çndice navegable con instrucciones</small>
        </li>
      </ul>

      <h3 style="color: #38bdf8; margin-top: 20px;">üìö Este Archivo</h3>
      <ul class="file-list">
        <li>
          AUDITORIA_VISUALIZACION.html
          <span class="status status-created">üåê Nuevo</span>
          <br><small>Visualizaci√≥n interactiva que est√°s leyendo ahora</small>
        </li>
      </ul>

      <div style="background: rgba(139, 92, 246, 0.1); padding: 15px; border-radius: 4px; margin-top: 20px;">
        <strong>üìå Total de archivos:</strong>
        <ul style="margin-top: 10px; margin-left: 20px;">
          <li>1 archivo modificado (.vscode/launch.json)</li>
          <li>8 archivos creados (documentaci√≥n + scripts)</li>
          <li>Todos listos para usar inmediatamente</li>
        </ul>
      </div>
    </div>

  </div>

  <!-- FOOTER -->
  <footer>
    <p>üîç Auditor√≠a de Rutas - Geo-Suite Canc√∫n PRO</p>
    <p>Completada: 26 de enero de 2026 | Status: ‚úÖ LISTO PARA DEBUGGING</p>
    <p style="margin-top: 10px; font-size: 0.9em;">
      üìñ Pr√≥ximo paso: Lee GUIA_VERIFICACION_RUTAS_RAPIDA.md para activar breakpoints
    </p>
  </footer>

  <script>
    function showTab(event, tabName) {
      // Hide all tab contents
      const contents = document.querySelectorAll('.tab-content');
      contents.forEach(content => content.classList.remove('active'));

      // Remove active class from all buttons
      const buttons = document.querySelectorAll('.tab-button');
      buttons.forEach(button => button.classList.remove('active'));

      // Show selected tab content
      document.getElementById(tabName).classList.add('active');

      // Add active class to clicked button
      event.target.classList.add('active');
    }

    // Add smooth scroll behavior
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        target?.scrollIntoView({ behavior: 'smooth' });
      });
    });

    console.log('‚úÖ Auditor√≠a de Rutas - P√°gina cargada');
    console.log('üìä Pesta√±a activa: Resumen');
    console.log('üí° Pr√≥ximo paso: Selecciona pesta√±a "Soluci√≥n" o "Verificaci√≥n"');
  </script>
</body>
</html>
